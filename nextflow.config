// Configuration for Batch NIMS Processing Workflow

plugins {
    id 'nf-nim@0.1.0'
}

// Workflow parameters
params {
    // Dataset and processing options
    pdb_dataset = "pdb_dataset.csv"
    max_structures = 0  // 0 = process all, otherwise limit to N structures
    rfdiffusion_batch_size = 10
    output_dir = "batch_results"
    
    // RFDiffusion parameters
    contigs = "A20-60/0 50-100"
    hotspot_res = ["A50", "A51", "A52", "A53", "A54"]
    diffusion_steps = 15
    
    // Error handling
    max_retries = 3
    retry_delay = 30
}

// Process configuration
process {
    // Default settings for all processes
    errorStrategy = 'retry'
    maxRetries = 3
}


// Manifest
manifest {
    name = 'Batch NIMS Processing Workflow'
    description = 'Massively parallel protein structure analysis using NVIDIA NIMS RFDiffusion service'
    mainScript = 'main.nf'
    nextflowVersion = '>=25.04.0'
    version = '1.0.0'
}

// Optional: Configure custom NIM endpoints if needed
// nim {
//     rfdiffusion {
//         endpoint = 'http://your-custom-server:8080/biology/ipd/rfdiffusion/generate'
//     }
// }
